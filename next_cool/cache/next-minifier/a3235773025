{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{QHqR:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/editusermessage/show/avatarLoadPhoto\",function(){return n(\"crCV\")}])},crCV:function(e,t,n){\"use strict\";n.r(t);var a=n(\"MX0m\"),o=n.n(a),i=n(\"q1tI\"),c=n.n(i),d=c.a.createElement;t.default=function(e){return e.data,d(c.a.Fragment,null,d(\"button\",{onClick:function(e){e.target.nextElementSibling.click()},className:\"jsx-369983592\"},\"\\u66f4\\u6362\\u5934\\u50cf\"),d(\"input\",{type:\"file\",name:\"avatar-photo\",id:\"photo\",onChange:function(e){var t=document.createElement(\"img\");t.src=URL.createObjectURL(e.target.files[0]),e.target.value=\"\",t.onload=function(){document.querySelector(\".photo-container\").append(t),s(t.offsetWidth,t.offsetHeight,t)}},hidden:!0,className:\"jsx-369983592\"}),d(\"div\",{style:{position:\"fixed\",left:0,top:0,visibility:\"hidden\",userSelect:\"none\"},className:\"jsx-369983592 photo-container\"}),d(\"canvas\",{id:\"canvas\",hidden:!0,className:\"jsx-369983592\"}),d(\"canvas\",{id:\"canvas2\",hidden:!0,className:\"jsx-369983592\"}),d(o.a,{id:\"369983592\"},[\"button.jsx-369983592{background:none;border:none;outline:none;color:#3897f0;font-weight:700;}\"]))};var s=function(e,t,n){var a=document.getElementById(\"canvas\"),o=a.getContext(\"2d\"),i=Math.min(e,t);a.width=i,a.height=i;var c=(Math.max(e,t)-i)/2;e>t?o.drawImage(n,-c,0):o.drawImage(n,0,-c);var d=document.getElementById(\"canvas2\").getContext(\"2d\");canvas2.width=40,canvas2.height=40,d.drawImage(a,0,0,40,40),document.getElementById(\"canvas2\").toBlob((function(e){var t=new FormData;t.append(\"file\",e,\"image.png\"),fetch(\"http://localhost:3001/getphotos//avatar\",{method:\"POST\",body:t,credentials:\"include\"}).then((function(e){return e.json()})).then((function(e){return n}))}),\"image/png\")}}},[[\"QHqR\",0,1]]]);"}