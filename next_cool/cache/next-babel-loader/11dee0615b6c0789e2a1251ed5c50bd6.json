{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Top from './sidebartop/sidebartop';\nimport Bottom from './sidebarbottom/sidebarbottom.js';\nimport Save from './savepost/save';\nimport Like from './likepost/like';\n\nfunction Sidebar({\n  postData\n}) {\n  const {\n    0: SaveStatus,\n    1: setSaveStatus\n  } = useState(false); //收藏窗口状态定义\n\n  const {\n    0: LikeStatus,\n    1: setLikeStatus\n  } = useState(false);\n  const {\n    0: eventID,\n    1: setEventID\n  } = useState(false); //收藏窗口状态定义\n\n  let notRef;\n  const SaveRef = React.createRef(); //收藏窗口元素Ref定义\n\n  const LikeRef = React.createRef(); //喜欢窗口元素Ref定义\n\n  const openSave = () => {\n    // 收藏窗口打开关闭事件\n    let DOM = notRef;\n\n    if (postData.message.save.length == 0) {\n      console.log(eventID);\n      if (eventID) clearTimeout(eventID);\n      notRef.hidden = false;\n      let ID = setTimeout(() => {\n        DOM.hidden = true;\n        setEventID(false);\n      }, 1000);\n      setEventID(ID);\n    } // if(LikeRef.current) {\n    //     if(!LikeRef.current.classList.contains('back')) LikeRef.current.classList.add('back');        \n    // }\n    // !SaveStatus ? setSaveStatus(true) :SaveRef.current.classList.remove('back');            \n\n  };\n\n  const openLike = () => {\n    // 收藏窗口打开关闭事件\n    if (postData.message.like.length == 0) {\n      let DOM = notRef;\n      if (eventID) clearTimeout(eventID);\n      notRef.hidden = false;\n      let ID = setTimeout(() => {\n        DOM.hidden = true;\n        setEventID(false);\n      }, 1000);\n      setEventID(ID);\n    } // if(SaveRef.current) {\n    //     if(!SaveRef.current.classList.contains('back')) SaveRef.current.classList.add('back');        \n    // }\n    // !LikeStatus ?  setLikeStatus(true) : LikeRef.current.classList.remove('back');    \n\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-330569704\" + \" \" + 'sidebar'\n  }, __jsx(Top, null), __jsx(Bottom, {\n    save: openSave,\n    like: openLike\n  }), SaveStatus && __jsx(Save, {\n    ref: SaveRef\n  }), LikeStatus && __jsx(Like, {\n    ref: LikeRef\n  }), __jsx(\"div\", {\n    hidden: true,\n    ref: ref => notRef = ref,\n    className: \"jsx-330569704\" + \" \" + 'notPost'\n  }, \"not post\"), __jsx(_JSXStyle, {\n    id: \"330569704\"\n  }, [\".sidebar.jsx-330569704{width:20%;height:100%;position:relative;}\", \".notPost.jsx-330569704{height:40px;width:200px;color:white;text-align:center;background:red;border-radius:24px;line-height:40px;position:fixed;top:70%;font-size:20px;left:5%;z-index:99;-webkit-animation:not-jsx-330569704 1 .3s;animation:not-jsx-330569704 1 .3s;}\", \"@-webkit-keyframes not-jsx-330569704{0%{-webkit-transform:scale(0.8);-ms-transform:scale(0.8);transform:scale(0.8);}100%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}\", \"@keyframes not-jsx-330569704{0%{-webkit-transform:scale(0.8);-ms-transform:scale(0.8);transform:scale(0.8);}100%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}\"]));\n}\n\nexport default Sidebar;","map":null,"metadata":{},"sourceType":"module"}