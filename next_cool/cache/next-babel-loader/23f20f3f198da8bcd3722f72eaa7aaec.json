{"ast":null,"code":"import _Array$from from \"@babel/runtime-corejs2/core-js/array/from\";\nvar _jsxFileName = \"C:\\\\test\\\\component\\\\signup\\\\form.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\n\nfunction Form(_ref) {\n  var errorEv = _ref.errorEv;\n\n  var submit = function submit(e) {\n    e.preventDefault();\n    var form = e.currentTarget;\n    fetch('http://localhost:3001/login/registered', {\n      method: 'POST',\n      body: new FormData(e.currentTarget) //自动格式选择 form格式\n\n    }).then(function (res) {\n      if (res.ok) {\n        return res.json();\n      } else {\n        res.json().then(function (error) {\n          //请求错误处理\n          console.log(error);\n\n          if (error.includes('account')) {\n            form.account.closest('.account').classList.add('error');\n            errorEv(error);\n          }\n\n          if (error.includes('email')) {\n            form.email.closest('.email').classList.add('error');\n            errorEv(error);\n          }\n        });\n      }\n    }).then(function (result) {\n      //请求成功处理\n      if (result) {\n        try {\n          _Array$from(form.querySelectorAll('.error')).forEach(function (item) {\n            return item.classList.remove('error');\n          });\n\n          errorEv('');\n          setTimeout(function () {\n            return errorEv('ok');\n          }, 0);\n        } catch (err) {\n          console.log(err);\n        }\n      }\n    });\n  };\n\n  return __jsx(\"form\", {\n    onSubmit: submit,\n    className: \"jsx-3531505121\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-3531505121\" + \" \" + \"account\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    name: \"account\",\n    id: \"account\",\n    placeholder: \"account\",\n    required: true,\n    className: \"jsx-3531505121\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-3531505121\" + \" \" + \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    placeholder: \"email\",\n    required: true,\n    className: \"jsx-3531505121\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-3531505121\" + \" \" + \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    placeholder: \"password\",\n    required: true,\n    className: \"jsx-3531505121\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-3531505121\" + \" \" + \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"submit\",\n    value: \"Continue\",\n    className: \"jsx-3531505121\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  })), __jsx(_JSXStyle, {\n    id: \"3531505121\",\n    __self: this\n  }, \"form.jsx-3531505121{width:80%;background:white;margin:0 auto;margin-top:8vh;padding:4vh 0;border-radius:12px;box-shadow:0 0 2px #eee;}form.jsx-3531505121>div.jsx-3531505121{width:80%;margin:0 auto;margin-bottom:4vh;border-radius:12px;}form.jsx-3531505121 .submit.jsx-3531505121{margin-bottom:0;}form.jsx-3531505121 input.jsx-3531505121{width:100%;height:6vh;font-size:3vh;border:solid #eee 2px;border-radius:12px;box-shadow:0 0 4px #eee;box-sizing:border-box;padding:2vh;outline:none;-webkit-animation:load-jsx-3531505121 1s;animation:load-jsx-3531505121 1s;}form.jsx-3531505121 input[type='submit'].jsx-3531505121{color:white;background:#5c52ff;padding:0;border:none;}.error.jsx-3531505121{box-shadow:0 0px 4px red;}form.jsx-3531505121 input[type='submit'].jsx-3531505121:hover{box-shadow:0 0 8px #888;}form.jsx-3531505121 input[type='submit'].jsx-3531505121:active{box-shadow:0 0 0;}@-webkit-keyframes load-jsx-3531505121{0%{opacity:0;-webkit-transform:translate(100px,0);-ms-transform:translate(100px,0);transform:translate(100px,0);}100%{opacity:1;-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);}}@keyframes load-jsx-3531505121{0%{opacity:0;-webkit-transform:translate(100px,0);-ms-transform:translate(100px,0);transform:translate(100px,0);}100%{opacity:1;-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFx0ZXN0XFxjb21wb25lbnRcXHNpZ251cFxcZm9ybS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFvRDRCLEFBR2dDLEFBU0UsQUFNTSxBQUdKLEFBWUEsQUFNYyxBQUdGLEFBR04sQUFJTCxBQUlDLFVBakRDLEFBU0QsQUFzQ2QsQUFJQSxDQWpDWSxDQVlPLElBZnRCLENBMkJBLEtBdkJrQixFQVRHLEFBNkJyQixDQUhBLEVBbkNlLElBOEJGLEtBWGEsS0FsQlYsQUE4QkQsQ0FyQk8sV0FzQnRCLEdBOUJlLEVBa0JRLEdBVHZCLFNBUm9CLE9Ba0JRLFlBakJILFFBOENyQixJQTVCc0IsUUF3QnRCLElBekNKLFVBa0JnQixZQUNDLGFBQ0ssMEVBQ3RCIiwiZmlsZSI6IkM6XFx0ZXN0XFxjb21wb25lbnRcXHNpZ251cFxcZm9ybS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuXHJcbmZ1bmN0aW9uIEZvcm0oe2Vycm9yRXZ9KSB7XHJcbiAgICBjb25zdCBzdWJtaXQgPSAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBsZXQgZm9ybSA9IGUuY3VycmVudFRhcmdldDtcclxuICAgICAgICBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDozMDAxL2xvZ2luL3JlZ2lzdGVyZWQnLHtcclxuICAgICAgICAgICAgbWV0aG9kOidQT1NUJyxcclxuICAgICAgICAgICAgYm9keTpuZXcgRm9ybURhdGEoZS5jdXJyZW50VGFyZ2V0KSAvL+iHquWKqOagvOW8j+mAieaLqSBmb3Jt5qC85byPXHJcbiAgICAgICAgfSkudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICBpZihyZXMub2spIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmVzLmpzb24oKS50aGVuKCBlcnJvciA9PiB7ICAvL+ivt+axgumUmeivr+WkhOeQhlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihlcnJvci5pbmNsdWRlcygnYWNjb3VudCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uYWNjb3VudC5jbG9zZXN0KCcuYWNjb3VudCcpLmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yRXYoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZihlcnJvci5pbmNsdWRlcygnZW1haWwnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtLmVtYWlsLmNsb3Nlc3QoJy5lbWFpbCcpLmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yRXYoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS50aGVuKHJlc3VsdCA9PnsgICAgICAvL+ivt+axguaIkOWKn+WkhOeQhlxyXG4gICAgICAgICAgICBpZihyZXN1bHQpe1xyXG4gICAgICAgICAgICAgIHRyeXsgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBBcnJheS5mcm9tKGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmVycm9yJykpLmZvckVhY2goaXRlbSA9PiBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJykpO1xyXG4gICAgICAgICAgICAgICAgZXJyb3JFdignJyk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGVycm9yRXYoJ29rJyksMClcclxuICAgICAgICAgICAgICB9Y2F0Y2goZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gICAgICAgICBcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17c3VibWl0fT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWNjb3VudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJhY2NvdW50XCIgaWQ9XCJhY2NvdW50XCIgcGxhY2Vob2xkZXI9J2FjY291bnQncmVxdWlyZWQvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVtYWlsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJlbWFpbFwiIGlkPVwiZW1haWxcIiBwbGFjZWhvbGRlcj0nZW1haWwnIHJlcXVpcmVkLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYXNzd29yZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBuYW1lPVwicGFzc3dvcmRcIiBpZD1cInBhc3N3b3JkXCIgcGxhY2Vob2xkZXI9J3Bhc3N3b3JkJyByZXF1aXJlZC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VibWl0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJzdWJtaXRcIiB2YWx1ZT1cIkNvbnRpbnVlXCIvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybSB7ICBcclxuICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOjgwJTtcclxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46MCBhdXRvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXRvcDo4dmg7XHJcbiAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOjR2aCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czoxMnB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzowIDAgMnB4ICNlZWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm0+ZGl2IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ODAlOyAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjowIGF1dG87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206NHZoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOjEycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm0gLnN1Ym1pdCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206MDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybSBpbnB1dCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDoxMDAlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OjZ2aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTozdmg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6c29saWQgI2VlZSAycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOjEycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBib3gtc2hhZG93OjAgMCA0cHggI2VlZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGJveC1zaXppbmc6Ym9yZGVyLWJveDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6MnZoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgb3V0bGluZTpub25lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOmxvYWQgMXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm0gaW5wdXRbdHlwZT0nc3VibWl0J10ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjp3aGl0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDojNWM1MmZmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjpub25lO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAuZXJyb3Ige1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDBweCA0cHggcmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3JtIGlucHV0W3R5cGU9J3N1Ym1pdCddOmhvdmVyIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzowIDAgOHB4ICM4ODg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm0gaW5wdXRbdHlwZT0nc3VibWl0J106YWN0aXZlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzowIDAgMCA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBAa2V5ZnJhbWVzIGxvYWQge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAwJSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgxMDBweCwwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDEwMCUge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eToxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgwLDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDwvc3R5bGU+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtXHJcbiJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\test\\\\\\\\component\\\\\\\\signup\\\\\\\\form.js */\"));\n}\n\nexport default Form;","map":{"version":3,"sources":["C:/test/component/signup/form.js"],"names":["React","Form","errorEv","submit","e","preventDefault","form","currentTarget","fetch","method","body","FormData","then","res","ok","json","error","console","log","includes","account","closest","classList","add","email","result","querySelectorAll","forEach","item","remove","setTimeout","err"],"mappings":"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","sourcesContent":["import React from 'react'\r\n\r\nfunction Form({errorEv}) {\r\n    const submit = (e) => {\r\n        e.preventDefault();\r\n        let form = e.currentTarget;\r\n        fetch('http://localhost:3001/login/registered',{\r\n            method:'POST',\r\n            body:new FormData(e.currentTarget) //自动格式选择 form格式\r\n        }).then(res => {\r\n            if(res.ok) {\r\n                return res.json()\r\n            }else{\r\n                res.json().then( error => {  //请求错误处理\r\n                    console.log(error);\r\n                    if(error.includes('account')) {\r\n                        form.account.closest('.account').classList.add('error');\r\n                        errorEv(error);\r\n                    }\r\n                    if(error.includes('email')) {\r\n                        form.email.closest('.email').classList.add('error');\r\n                        errorEv(error);\r\n                    }\r\n                    \r\n                })\r\n            }\r\n        }).then(result =>{      //请求成功处理\r\n            if(result){\r\n              try{                \r\n                Array.from(form.querySelectorAll('.error')).forEach(item => item.classList.remove('error'));\r\n                errorEv('');\r\n                setTimeout(() => errorEv('ok'),0)\r\n              }catch(err) {\r\n                  console.log(err)\r\n              }\r\n            }         \r\n        })\r\n    }\r\n    return (\r\n        <form onSubmit={submit}>\r\n                <div className=\"account\">\r\n                    <input type=\"text\" name=\"account\" id=\"account\" placeholder='account'required/>\r\n                </div>\r\n                <div className=\"email\">\r\n                    <input type=\"email\" name=\"email\" id=\"email\" placeholder='email' required/>\r\n                </div>\r\n                <div className=\"password\">\r\n                    <input type=\"password\" name=\"password\" id=\"password\" placeholder='password' required/>\r\n                </div>\r\n                <div className=\"submit\">\r\n                    <input type=\"submit\" value=\"Continue\"/>\r\n                </div>\r\n                <style jsx>{`\r\n                    form {  \r\n                      width:80%;\r\n                      background:white;\r\n                      margin:0 auto;\r\n                      margin-top:8vh;\r\n                      padding:4vh 0;\r\n                      border-radius:12px;\r\n                      box-shadow:0 0 2px #eee;\r\n                    }\r\n                    form>div {\r\n                        width:80%;                          \r\n                        margin:0 auto;\r\n                        margin-bottom:4vh;\r\n                        border-radius:12px;\r\n                    }\r\n                    form .submit {\r\n                        margin-bottom:0;\r\n                    }\r\n                    form input {\r\n                         width:100%;\r\n                         height:6vh;\r\n                         font-size:3vh;\r\n                         border:solid #eee 2px;\r\n                         border-radius:12px;\r\n                         box-shadow:0 0 4px #eee;\r\n                         box-sizing:border-box;\r\n                         padding:2vh;\r\n                         outline:none;\r\n                         animation:load 1s;\r\n                    }\r\n                    form input[type='submit'] {\r\n                        color:white;\r\n                        background:#5c52ff;\r\n                        padding:0;\r\n                        border:none;\r\n                    }\r\n                    .error {\r\n                        box-shadow: 0 0px 4px red;\r\n                    }\r\n                    form input[type='submit']:hover {\r\n                        box-shadow:0 0 8px #888;\r\n                    }\r\n                    form input[type='submit']:active {\r\n                        box-shadow:0 0 0 ;\r\n                    }                   \r\n                    @keyframes load {\r\n                        0% {\r\n                           opacity:0;\r\n                           transform:translate(100px,0)\r\n                        }\r\n                        100% {\r\n                            opacity:1;\r\n                            transform:translate(0,0)\r\n                        }\r\n                    }\r\n                    `}\r\n                    \r\n                </style>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form\r\n"]},"metadata":{},"sourceType":"module"}