{"ast":null,"code":"import _Array$from from \"@babel/runtime-corejs2/core-js/array/from\";\nvar _jsxFileName = \"C:\\\\test\\\\pages\\\\signup\\\\form.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\n\nfunction Form(_ref) {\n  var errorEv = _ref.errorEv;\n\n  var submit = function submit(e) {\n    e.preventDefault();\n    var form = e.currentTarget;\n    fetch('http://localhost:3001/login/registered', {\n      method: 'POST',\n      body: new FormData(e.currentTarget) //自动格式选择 form格式\n\n    }).then(function (res) {\n      if (res.ok) {\n        return res.json();\n      } else {\n        res.json().then(function (error) {\n          //请求错误处理\n          console.log(error);\n\n          if (error.includes('account')) {\n            form.account.closest('.account').classList.add('error');\n            errorEv(error);\n          }\n\n          if (error.includes('email')) {\n            form.email.closest('.email').classList.add('error');\n            errorEv(error);\n          }\n        });\n      }\n    }).then(function (result) {\n      //请求成功处理\n      if (result) {\n        try {\n          _Array$from(form.querySelectorAll('.error')).forEach(function (item) {\n            return item.classList.remove('error');\n          });\n\n          errorEv('');\n          setTimeout(function () {\n            return errorEv('ok');\n          }, 0);\n        } catch (err) {\n          console.log(err);\n        }\n      }\n    });\n  };\n\n  return __jsx(\"form\", {\n    onSubmit: submit,\n    className: \"jsx-3531505121\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-3531505121\" + \" \" + \"account\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    name: \"account\",\n    id: \"account\",\n    placeholder: \"account\",\n    required: true,\n    className: \"jsx-3531505121\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-3531505121\" + \" \" + \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    placeholder: \"email\",\n    required: true,\n    className: \"jsx-3531505121\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-3531505121\" + \" \" + \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    placeholder: \"password\",\n    required: true,\n    className: \"jsx-3531505121\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-3531505121\" + \" \" + \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"submit\",\n    value: \"Continue\",\n    className: \"jsx-3531505121\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  })), __jsx(_JSXStyle, {\n    id: \"3531505121\",\n    __self: this\n  }, \"form.jsx-3531505121{width:80%;background:white;margin:0 auto;margin-top:8vh;padding:4vh 0;border-radius:12px;box-shadow:0 0 2px #eee;}form.jsx-3531505121>div.jsx-3531505121{width:80%;margin:0 auto;margin-bottom:4vh;border-radius:12px;}form.jsx-3531505121 .submit.jsx-3531505121{margin-bottom:0;}form.jsx-3531505121 input.jsx-3531505121{width:100%;height:6vh;font-size:3vh;border:solid #eee 2px;border-radius:12px;box-shadow:0 0 4px #eee;box-sizing:border-box;padding:2vh;outline:none;-webkit-animation:load-jsx-3531505121 1s;animation:load-jsx-3531505121 1s;}form.jsx-3531505121 input[type='submit'].jsx-3531505121{color:white;background:#5c52ff;padding:0;border:none;}.error.jsx-3531505121{box-shadow:0 0px 4px red;}form.jsx-3531505121 input[type='submit'].jsx-3531505121:hover{box-shadow:0 0 8px #888;}form.jsx-3531505121 input[type='submit'].jsx-3531505121:active{box-shadow:0 0 0;}@-webkit-keyframes load-jsx-3531505121{0%{opacity:0;-webkit-transform:translate(100px,0);-ms-transform:translate(100px,0);transform:translate(100px,0);}100%{opacity:1;-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);}}@keyframes load-jsx-3531505121{0%{opacity:0;-webkit-transform:translate(100px,0);-ms-transform:translate(100px,0);transform:translate(100px,0);}100%{opacity:1;-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFx0ZXN0XFxwYWdlc1xcc2lnbnVwXFxmb3JtLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW9ENEIsQUFHZ0MsQUFTRSxBQU1NLEFBR0osQUFZQSxBQU1jLEFBR0YsQUFHTixBQUlMLEFBSUMsVUFqREMsQUFTRCxBQXNDZCxBQUlBLENBakNZLENBWU8sSUFmdEIsQ0EyQkEsS0F2QmtCLEVBVEcsQUE2QnJCLENBSEEsRUFuQ2UsSUE4QkYsS0FYYSxLQWxCVixBQThCRCxDQXJCTyxXQXNCdEIsR0E5QmUsRUFrQlEsR0FUdkIsU0FSb0IsT0FrQlEsWUFqQkgsUUE4Q3JCLElBNUJzQixRQXdCdEIsSUF6Q0osVUFrQmdCLFlBQ0MsYUFDSywwRUFDdEIiLCJmaWxlIjoiQzpcXHRlc3RcXHBhZ2VzXFxzaWdudXBcXGZvcm0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcblxyXG5mdW5jdGlvbiBGb3JtKHtlcnJvckV2fSkge1xyXG4gICAgY29uc3Qgc3VibWl0ID0gKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgbGV0IGZvcm0gPSBlLmN1cnJlbnRUYXJnZXQ7XHJcbiAgICAgICAgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMS9sb2dpbi9yZWdpc3RlcmVkJyx7XHJcbiAgICAgICAgICAgIG1ldGhvZDonUE9TVCcsXHJcbiAgICAgICAgICAgIGJvZHk6bmV3IEZvcm1EYXRhKGUuY3VycmVudFRhcmdldCkgLy/oh6rliqjmoLzlvI/pgInmi6kgZm9ybeagvOW8j1xyXG4gICAgICAgIH0pLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgaWYocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHJlcy5qc29uKCkudGhlbiggZXJyb3IgPT4geyAgLy/or7fmsYLplJnor6/lpITnkIZcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZXJyb3IuaW5jbHVkZXMoJ2FjY291bnQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtLmFjY291bnQuY2xvc2VzdCgnLmFjY291bnQnKS5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvckV2KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZXJyb3IuaW5jbHVkZXMoJ2VtYWlsJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5lbWFpbC5jbG9zZXN0KCcuZW1haWwnKS5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvckV2KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkudGhlbihyZXN1bHQgPT57ICAgICAgLy/or7fmsYLmiJDlip/lpITnkIZcclxuICAgICAgICAgICAgaWYocmVzdWx0KXtcclxuICAgICAgICAgICAgICB0cnl7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5lcnJvcicpKS5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpKTtcclxuICAgICAgICAgICAgICAgIGVycm9yRXYoJycpO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBlcnJvckV2KCdvaycpLDApXHJcbiAgICAgICAgICAgICAgfWNhdGNoKGVycikge1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ICAgICAgICAgXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3N1Ym1pdH0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjY291bnRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiYWNjb3VudFwiIGlkPVwiYWNjb3VudFwiIHBsYWNlaG9sZGVyPSdhY2NvdW50J3JlcXVpcmVkLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbWFpbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZW1haWxcIiBuYW1lPVwiZW1haWxcIiBpZD1cImVtYWlsXCIgcGxhY2Vob2xkZXI9J2VtYWlsJyByZXF1aXJlZC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFzc3dvcmRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgbmFtZT1cInBhc3N3b3JkXCIgaWQ9XCJwYXNzd29yZFwiIHBsYWNlaG9sZGVyPSdwYXNzd29yZCcgcmVxdWlyZWQvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN1Ym1pdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgdmFsdWU9XCJDb250aW51ZVwiLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm0geyAgXHJcbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aDo4MCU7XHJcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOjAgYXV0bztcclxuICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6OHZoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzo0dmggMDtcclxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6MTJweDtcclxuICAgICAgICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6MCAwIDJweCAjZWVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3JtPmRpdiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOjgwJTsgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46MCBhdXRvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOjR2aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czoxMnB4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3JtIC5zdWJtaXQge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOjA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm0gaW5wdXQge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6MTAwJTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDo2dmg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6M3ZoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOnNvbGlkICNlZWUgMnB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czoxMnB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzowIDAgNHB4ICNlZWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBib3gtc2l6aW5nOmJvcmRlci1ib3g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOjJ2aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmU6bm9uZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjpsb2FkIDFzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3JtIGlucHV0W3R5cGU9J3N1Ym1pdCddIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6d2hpdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IzVjNTJmZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzowO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6bm9uZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLmVycm9yIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwcHggNHB4IHJlZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybSBpbnB1dFt0eXBlPSdzdWJtaXQnXTpob3ZlciB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6MCAwIDhweCAjODg4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3JtIGlucHV0W3R5cGU9J3N1Ym1pdCddOmFjdGl2ZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6MCAwIDAgO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgQGtleWZyYW1lcyBsb2FkIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgMCUge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGUoMTAwcHgsMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAxMDAlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6MTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGUoMCwwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8L3N0eWxlPlxyXG4gICAgICAgIDwvZm9ybT5cclxuICAgIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybVxyXG4iXX0= */\\n/*@ sourceURL=C:\\\\\\\\test\\\\\\\\pages\\\\\\\\signup\\\\\\\\form.js */\"));\n}\n\nexport default Form;","map":{"version":3,"sources":["C:/test/pages/signup/form.js"],"names":["React","Form","errorEv","submit","e","preventDefault","form","currentTarget","fetch","method","body","FormData","then","res","ok","json","error","console","log","includes","account","closest","classList","add","email","result","querySelectorAll","forEach","item","remove","setTimeout","err"],"mappings":"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","sourcesContent":["import React from 'react'\r\n\r\nfunction Form({errorEv}) {\r\n    const submit = (e) => {\r\n        e.preventDefault();\r\n        let form = e.currentTarget;\r\n        fetch('http://localhost:3001/login/registered',{\r\n            method:'POST',\r\n            body:new FormData(e.currentTarget) //自动格式选择 form格式\r\n        }).then(res => {\r\n            if(res.ok) {\r\n                return res.json()\r\n            }else{\r\n                res.json().then( error => {  //请求错误处理\r\n                    console.log(error);\r\n                    if(error.includes('account')) {\r\n                        form.account.closest('.account').classList.add('error');\r\n                        errorEv(error);\r\n                    }\r\n                    if(error.includes('email')) {\r\n                        form.email.closest('.email').classList.add('error');\r\n                        errorEv(error);\r\n                    }\r\n                    \r\n                })\r\n            }\r\n        }).then(result =>{      //请求成功处理\r\n            if(result){\r\n              try{                \r\n                Array.from(form.querySelectorAll('.error')).forEach(item => item.classList.remove('error'));\r\n                errorEv('');\r\n                setTimeout(() => errorEv('ok'),0)\r\n              }catch(err) {\r\n                  console.log(err)\r\n              }\r\n            }         \r\n        })\r\n    }\r\n    return (\r\n        <form onSubmit={submit}>\r\n                <div className=\"account\">\r\n                    <input type=\"text\" name=\"account\" id=\"account\" placeholder='account'required/>\r\n                </div>\r\n                <div className=\"email\">\r\n                    <input type=\"email\" name=\"email\" id=\"email\" placeholder='email' required/>\r\n                </div>\r\n                <div className=\"password\">\r\n                    <input type=\"password\" name=\"password\" id=\"password\" placeholder='password' required/>\r\n                </div>\r\n                <div className=\"submit\">\r\n                    <input type=\"submit\" value=\"Continue\"/>\r\n                </div>\r\n                <style jsx>{`\r\n                    form {  \r\n                      width:80%;\r\n                      background:white;\r\n                      margin:0 auto;\r\n                      margin-top:8vh;\r\n                      padding:4vh 0;\r\n                      border-radius:12px;\r\n                      box-shadow:0 0 2px #eee;\r\n                    }\r\n                    form>div {\r\n                        width:80%;                          \r\n                        margin:0 auto;\r\n                        margin-bottom:4vh;\r\n                        border-radius:12px;\r\n                    }\r\n                    form .submit {\r\n                        margin-bottom:0;\r\n                    }\r\n                    form input {\r\n                         width:100%;\r\n                         height:6vh;\r\n                         font-size:3vh;\r\n                         border:solid #eee 2px;\r\n                         border-radius:12px;\r\n                         box-shadow:0 0 4px #eee;\r\n                         box-sizing:border-box;\r\n                         padding:2vh;\r\n                         outline:none;\r\n                         animation:load 1s;\r\n                    }\r\n                    form input[type='submit'] {\r\n                        color:white;\r\n                        background:#5c52ff;\r\n                        padding:0;\r\n                        border:none;\r\n                    }\r\n                    .error {\r\n                        box-shadow: 0 0px 4px red;\r\n                    }\r\n                    form input[type='submit']:hover {\r\n                        box-shadow:0 0 8px #888;\r\n                    }\r\n                    form input[type='submit']:active {\r\n                        box-shadow:0 0 0 ;\r\n                    }                   \r\n                    @keyframes load {\r\n                        0% {\r\n                           opacity:0;\r\n                           transform:translate(100px,0)\r\n                        }\r\n                        100% {\r\n                            opacity:1;\r\n                            transform:translate(0,0)\r\n                        }\r\n                    }\r\n                    `}\r\n                    \r\n                </style>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form\r\n"]},"metadata":{},"sourceType":"module"}