(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{D0kk:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("q1tI"),s=a.n(i),n=(s.a.createElement,s.a.createContext(null))},gHt4:function(e,t,a){"use strict";var i=a("MX0m"),s=a.n(i),n=a("q1tI"),l=a.n(n),o=a("nOHt"),r=a.n(o),c=l.a.createElement;t.a=function(){return c("div",{onClick:function(){return r.a.push("/home")},className:"jsx-1084668480 closebu"},c("button",{className:"jsx-1084668480"},c("div",{className:"jsx-1084668480"},c("svg",{t:"1579333084597",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1673",width:"30",height:"30",className:"jsx-1084668480 icon"},c("path",{d:"M691.1168 896 577.7792 896c-18.1824 0-32.9344-14.8416-32.9344-33.1456l0-225.472c0-1.5424 0.0128-3.0464 0.0384-4.4928L479.0464 632.8896c0.0128 1.4656 0.032 2.9696 0.032 4.4928l0 225.472c0 18.2976-14.7584 33.1456-32.9408 33.1456L332.8064 896c-64.5632 0-117.088-56.992-117.088-127.0656L215.7184 589.0304l-6.0608 0c-34.3552 0-62.6688-17.6128-75.7312-47.136-10.7008-24.3456-9.536-63.3792 25.792-100.1408l266.2144-277.0048C448.7616 141.0432 479.3152 128 511.9744 128s63.2064 13.0432 86.0224 36.7296l266.2528 277.0048c35.4624 36.8832 36.544 75.9616 25.7344 100.2304-12.9152 29.408-41.2352 47.0528-75.6928 47.0528l-6.0672 0 0 179.9168C808.2048 839.008 755.68 896 691.1168 896L691.1168 896zM610.7328 829.7152l80.3904 0c31.6352 0 51.2064-31.5456 51.2064-60.7808L742.3296 555.8784c0-18.2912 14.7584-33.1456 32.9408-33.1456l39.0016 0c10.6752 0 13.8368-3.8976 15.5008-7.7248 1.248-3.4496 0.16-13.5936-12.9024-27.168L550.656 210.8544c-20.5248-21.3504-56.8192-21.3504-77.3888 0.0128L207.0656 487.8464c-13.0752 13.6064-14.144 23.7952-12.8768 27.2832 1.6128 3.6672 4.8064 7.6032 15.4496 7.6032l39.0208 0c18.1824 0 32.9408 14.8416 32.9408 33.1456l0 213.0624c0 29.2352 19.5648 60.7808 51.2064 60.7808l80.3904 0-0.096-199.9936c-0.2944-14.9952-0.6592-33.664 13.7216-48.4096 14.3616-14.7328 33.9456-14.7328 40.3648-14.7328l89.568 0c6.4384 0 26.0032 0 40.3648 14.7328 14.3616 14.752 14.0032 33.4208 13.7088 48.4096l-0.096 7.6608L610.7328 829.7152 610.7328 829.7152zM610.7328 829.7152","p-id":"1674",className:"jsx-1084668480"})))),c(s.a,{id:"1084668480"},[".closebu.jsx-1084668480{position:absolute;height:30px;width:30px;left:2%;overflow:hidden;-webkit-transition:.2s;transition:.2s;outline:none;}",".closebu.jsx-1084668480:hover{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);}",".closebu.jsx-1084668480:active{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}","button.jsx-1084668480{background:none;border:none;height:30px;width:30px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}"]))}},oFpz:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/edit",function(){return a("p8II")}])},p8II:function(e,t,a){"use strict";a.r(t);var i=a("o0o1"),s=a.n(i),n=a("MX0m"),l=a.n(n),o=a("q1tI"),r=a.n(o),c=r.a.createElement;var d=function(){return c("div",{className:"jsx-1539750260 select-list"},c("div",{className:"jsx-1539750260 list"},c("ul",{className:"jsx-1539750260"},c("li",{className:"jsx-1539750260 selected"},"\u7f16\u8f91\u4e3b\u9875"),c("li",{className:"jsx-1539750260"},"\u66f4\u6539\u5bc6\u7801"))),c(l.a,{id:"1539750260"},[".select-list.jsx-1539750260{width:30%;background:white;position:relative;}",".list.jsx-1539750260{position:absolute;left:-2px;top:-1px;}",".list.jsx-1539750260,ul.jsx-1539750260{height:100%;width:100%;}","ul.jsx-1539750260{list-style:none;}","li.jsx-1539750260{height:6.4vh;padding-left:10%;font-weight:600;line-height:6.4vh;}","li.jsx-1539750260:hover{border-left:solid black 3px;}",".selected.jsx-1539750260{border-left:solid black 3px;font-weight:900;}","@media (max-width:960px){.select-list.jsx-1539750260{width:90%;height:15%;box-sizing:border-box;}ul.jsx-1539750260{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:5% 0 0 10%;}li.jsx-1539750260{padding-left:0;margin:0 2vw;height:5vh;}li.jsx-1539750260:hover{border-bottom:solid black 3px;}.selected.jsx-1539750260{border-left:none;border-bottom:solid black 3px;}}"]))},x=r.a.createElement;var h=function(e){var t=e.srcEv,a=(e.data,e.de);return x(r.a.Fragment,null,x("button",{onClick:function(e){e.target.nextElementSibling.click()},className:"jsx-3194263820"},"\u66f4\u6362\u5934\u50cf"),x("input",{type:"file",name:"avatar-photo",id:"photo",onChange:function(e){var i=document.createElement("img");i.src=URL.createObjectURL(e.target.files[0]),e.target.value="",i.onload=function(){document.querySelector(".photo-container").append(i),m(i.offsetWidth,i.offsetHeight,i,t,a)}},hidden:!0,className:"jsx-3194263820"}),x("div",{style:{position:"fixed",left:0,top:0,visibility:"hidden",userSelect:"none"},className:"jsx-3194263820 photo-container"}),x("canvas",{id:"canvas",hidden:!0,className:"jsx-3194263820"}),x("canvas",{id:"canvas2",hidden:!0,className:"jsx-3194263820"}),x(l.a,{id:"3194263820"},["button.jsx-3194263820{background:none;border:none;outline:none;color:#1f2738;font-weight:700;}"]))},m=function(e,t,a,i,s){var n=document.getElementById("canvas"),l=n.getContext("2d"),o=Math.min(e,t);n.width=o,n.height=o;var r=(Math.max(e,t)-o)/2;e>t?l.drawImage(a,-r,0):l.drawImage(a,0,-r);var c=document.getElementById("canvas2").getContext("2d");canvas2.width=400,canvas2.height=400,c.drawImage(n,0,0,400,400),document.getElementById("canvas2").toBlob((function(e){var t=new FormData;t.append("file",e,"image.png"),fetch("http://localhost:3001/upload/avatar",{method:"POST",body:t,credentials:"include"}).then((function(e){return e.blob()})).then((function(e){s(),i(URL.createObjectURL(e))}))}),"image/png")},u=r.a.createElement;var f=function(e){var t=e.data,a=e.name,i=Object(o.useState)(t.message.photoId),n=i[0],r=i[1],c=Object(o.useState)(null),d=c[0],x=c[1];return Object(o.useEffect)((function(){return function(){var e,t,a;s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(""!==n){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,s.a.awrap(fetch("http://localhost:3001/upload/".concat(n)));case 4:return e=i.sent,i.next=7,s.a.awrap(e.blob());case 7:t=i.sent,a=URL.createObjectURL(t),x(a);case 10:case"end":return i.stop()}}),null,null,null,Promise)}(),function(){URL.revokeObjectURL(d)}}),[]),u("div",{className:"jsx-4019688225 avatar"},u("div",{className:"jsx-4019688225 photo"},!n&&u("img",{src:"/user.jpg",alt:"default",className:"jsx-4019688225"}),d&&u("img",{src:d,alt:"cat",className:"jsx-4019688225"})),u("div",{className:"jsx-4019688225 avatarmessage"},u("div",{className:"jsx-4019688225 username"},u("h3",{className:"jsx-4019688225"},a||!1)),u(h,{de:function(){r(!0)},srcEv:x,data:t})),u(l.a,{id:"4019688225"},[".avatar.jsx-4019688225{width:100%;height:10%;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:2vh;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".photo.jsx-4019688225{width:25%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;}",".photo.jsx-4019688225 img.jsx-4019688225{height:6vh;width:6vh;border-radius:50%;border:solid 1px #d3d3d3;}",".avatarmessage.jsx-4019688225{padding-left:2vh;width:75%;height:80%;}"]))},b=r.a.createElement;var p=function(e){var t=e.tag,a=e.type,i=e.value,s=e.ev;return b("div",{className:"jsx-3253323679 option"},b("div",{className:"jsx-3253323679 left"},b("label",{htmlFor:a,className:"jsx-3253323679"},t)),b("div",{className:"jsx-3253323679 right"},b("input",{type:"text",onChange:function(e){s(e.target.value)},value:i,name:a,id:a,className:"jsx-3253323679"})),b(l.a,{id:"3253323679"},[".option.jsx-3253323679{width:100%;height:6%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:1vh;}",".left.jsx-3253323679{width:25%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;font-size:2vh;line-height:4.08vh;}",".right.jsx-3253323679{width:75%;height:100%;padding-left:2vh;}",".right.jsx-3253323679 input.jsx-3253323679{height:3.68vh;width:100%;border:solid 1px #d3d3d3;border-radius:4px;padding:2px 8px;font-size:2vh;}"]))},g=r.a.createElement;var w=function(){return g("div",{className:"jsx-21850480 textcontainer"},g("label",{htmlFor:"outermessage",className:"jsx-21850480"},"\u4e2a\u4eba\u7b80\u4ecb"),g("div",{className:"jsx-21850480 text"},g("textarea",{name:"outermessage",id:"outermessage",rows:"8",className:"jsx-21850480"})),g(l.a,{id:"21850480"},[".textcontainer.jsx-21850480{width:100%;min-height:24%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:2vh 0;}","label.jsx-21850480{width:25%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;font-size:2vh;line-height:4.08vh;}",".text.jsx-21850480{width:75%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:2vh;}",".text.jsx-21850480 textarea.jsx-21850480{min-width:100%;border-radius:4px;padding:8px;font-size:2vh;}"]))},v=(a("D0kk"),r.a.createElement);var j=function(e){var t=e.data,a=Object(o.useState)(t.message.name),i=a[0],s=a[1],n=Object(o.useState)(t.account),r=n[0],c=n[1],d=Object(o.useState)(t.email),x=d[0],h=d[1];return v("form",{className:"jsx-1029908578"},v(p,{type:"name",ev:s,value:i,tag:"\u59d3\u540d"}),v(p,{type:"account",ev:c,value:r,tag:"\u8d26\u53f7"}),v(w,null),v(p,{type:"email",ev:h,value:x,tag:"\u90ae\u7bb1"}),v("div",{className:"jsx-1029908578 submit"},v("div",{className:"jsx-1029908578 submitcontainer"},v("input",{type:"submit",defaultValue:"\u63d0\u4ea4",className:"jsx-1029908578"}))),v(l.a,{id:"1029908578"},["form.jsx-1029908578{min-height:58vh;width:100%;}",".submit.jsx-1029908578{margin-top:2vh;width:100%;height:3.48vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}",".submitcontainer.jsx-1029908578{width:75%;padding-left:2vh;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}",".submit.jsx-1029908578 input.jsx-1029908578{width:35%;height:100%;background:#1f2738;border:none;border-radius:4px;color:white;font-size:1.6vh;font-weight:700;}"]))};r.a.createElement;r.a.createElement;var k=r.a.createElement;var y=function(e){var t=e.userData;return k("div",{className:"jsx-2768738663 show"},k("div",{className:"jsx-2768738663 content"},k(f,{data:t}),k(j,{data:t})),k(l.a,{id:"2768738663"},[".show.jsx-2768738663{width:70%;background:white;border-left:solid 2px #d3d3d3;padding:5vh 6vh;}","@media (max-width:960px){.show.jsx-2768738663{width:90%;height:85%;}}",".content.jsx-2768738663{background:white;min-height:68vh;}"]))},N=a("nOHt"),E=a.n(N),L=a("gHt4"),O=r.a.createElement;t.default=function(){var e=Object(o.useState)([]),t=e[0],a=e[1];return Object(o.useEffect)((function(){!function(){var e,t;s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,s.a.awrap(fetch("http://localhost:3001/login",{credentials:"include"}));case 3:if(404!==(e=i.sent).status){i.next=8;break}return console.log("\u8def\u7531\u5207\u6362\u90fd\u767b\u5f55"),E.a.push("/"),i.abrupt("return");case 8:return i.next=10,s.a.awrap(e.json());case 10:t=i.sent,a((function(){return[t]})),i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),i.t0&&console.log(i.t0);case 17:case"end":return i.stop()}}),null,null,[[0,14]],Promise)}()}),[]),O("div",{className:"jsx-1594311597 edit"},t.length>0?O("div",{className:"jsx-1594311597 edit-container"},O(d,null),O(y,{userData:t[0]})):O(r.a.Fragment,null),O("div",{className:"jsx-1594311597 router"},O(L.a,null)),O(l.a,{id:"110819053"},["*{margin:0;padding:0;box-sizing:border-box;}"]),O(l.a,{id:"4122368201"},[".router.jsx-1594311597{width:30px;height:30px;position:fixed;top:2vh;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;corsur:pointer;}",".router.jsx-1594311597:hover{background:#2b4578;}",".edit.jsx-1594311597{height:100vh;width:100vw;overflow:auto;background:#fafafa;}",".edit-container.jsx-1594311597{min-height:80vh;width:960px;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border:2px solid #d3d3d3;}","@media (max-width:960px){.edit-container.jsx-1594311597{width:100%;height:100vh;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.edit.jsx-1594311597{background:white;}}"]))}}},[["oFpz",0,1,3,2]]]);