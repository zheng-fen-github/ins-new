{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport Photo from '../../../../public/photo';\n\nfunction Photocontent({\n  data\n}) {\n  let scrRef; //容器元素变量定义            \n\n  const scrollEv = e => {\n    // 按钮事件 图片切换\n    let size = scrRef.children.length;\n    let leftBu = scrRef.parentElement.children[0];\n    let rightBu = scrRef.parentElement.children[1];\n    let width = scrRef.offsetWidth;\n    let who = e.target.closest('div').matches('.right');\n    who ? scrRef.dataset.src++ : scrRef.dataset.src--;\n    let count = scrRef.dataset.src;\n\n    if (who) {\n      scrRef.style.transform = `translateX(-${count * width}px)`;\n      if (+count + 1 == size) rightBu.style.display = 'none';\n      if (count > 0) leftBu.style.display = '';\n    } else {\n      if (count == 0) leftBu.style.display = 'none';\n      scrRef.style.transform = `translateX(-${count * width}px)`;\n      if (+count + 1 != size) rightBu.style = '';\n    }\n  };\n\n  useEffect(() => {\n    if (scrRef.children.length > 1) scrRef.previousElementSibling.style.display = '';\n  }, []);\n  useEffect(() => {\n    let cool = scrRef;\n    window.addEventListener('resize', () => {\n      cool.classList.remove('transition');\n      let count = +cool.dataset.src;\n      cool.style.transform = `translateX(-${count * cool.offsetWidth}px)`;\n      setTimeout(() => cool.classList.add('transition'), 200);\n    });\n  }, []);\n  return __jsx(\"div\", {\n    className: \"jsx-3018370054\" + \" \" + \"postphoto\"\n  }, __jsx(\"div\", {\n    onClick: scrollEv,\n    style: {\n      display: 'none'\n    },\n    className: \"jsx-3018370054\" + \" \" + \"left\"\n  }, __jsx(\"svg\", {\n    t: \"1578822263166\",\n    viewBox: \"0 0 1024 1024\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"p-id\": \"601\",\n    width: \"30\",\n    height: \"30\",\n    className: \"jsx-3018370054\" + \" \" + \"icon\"\n  }, __jsx(\"path\", {\n    d: \"M666.624 171.690667a25.6 25.6 0 0 0-36.181333-36.181334l-358.4 358.4a25.6 25.6 0 0 0 0 36.181334l358.4 358.4a25.6 25.6 0 0 0 36.181333-36.181334L326.314667 512l340.309333-340.309333z\",\n    fill: \"#2c2c2c\",\n    \"p-id\": \"602\",\n    className: \"jsx-3018370054\"\n  }))), __jsx(\"div\", {\n    onClick: scrollEv,\n    style: {\n      display: 'none'\n    },\n    className: \"jsx-3018370054\" + \" \" + \"right\"\n  }, __jsx(\"svg\", {\n    t: \"1578822263166\",\n    viewBox: \"0 0 1024 1024\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"p-id\": \"601\",\n    width: \"30\",\n    height: \"30\",\n    className: \"jsx-3018370054\" + \" \" + \"icon\"\n  }, __jsx(\"path\", {\n    d: \"M666.624 171.690667a25.6 25.6 0 0 0-36.181333-36.181334l-358.4 358.4a25.6 25.6 0 0 0 0 36.181334l358.4 358.4a25.6 25.6 0 0 0 36.181333-36.181334L326.314667 512l340.309333-340.309333z\",\n    fill: \"#2c2c2c\",\n    \"p-id\": \"602\",\n    className: \"jsx-3018370054\"\n  }))), __jsx(\"div\", {\n    \"data-src\": 0,\n    ref: ref => scrRef = ref,\n    className: \"jsx-3018370054\" + \" \" + \"photocontainer transition\"\n  }, data && data.map(e => __jsx(Photo, {\n    key: e.filename,\n    id: e.filename\n  }))), __jsx(_JSXStyle, {\n    id: \"3018370054\"\n  }, [\".postphoto.jsx-3018370054{width:100%;height:100%;margin:0;padding:0;box-sizing:border-box;position:relative;}\", \".postphoto.jsx-3018370054:hover .right.jsx-3018370054{right:1.5%;}\", \".postphoto.jsx-3018370054:hover .left.jsx-3018370054{left:1.5%;}\", \".photocontainer.jsx-3018370054{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\", \".transition.jsx-3018370054{-webkit-transition:.5s;transition:.5s;}\", \".left.jsx-3018370054,.right.jsx-3018370054{position:absolute;width:40px;height:40px;background:white;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);-webkit-transition:.4s;transition:.4s;box-shadow:0 0 4px #adadad;z-index:2;}\", \".left.jsx-3018370054{left:-12%;}\", \".right.jsx-3018370054{-webkit-transform:rotate(180deg) translateY(50%);-ms-transform:rotate(180deg) translateY(50%);transform:rotate(180deg) translateY(50%);right:-12%;}\"]));\n}\n\nexport default Photocontent;","map":null,"metadata":{},"sourceType":"module"}