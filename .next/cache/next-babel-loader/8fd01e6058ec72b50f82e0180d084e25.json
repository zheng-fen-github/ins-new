{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Loading from '../public/loading';\n\nfunction Photo(_ref) {\n  var id = _ref.id;\n\n  var _useState = useState(null),\n      blob = _useState[0],\n      setBlob = _useState[1];\n\n  var _useState2 = useState(null),\n      src = _useState2[0],\n      setSrc = _useState2[1];\n\n  var _useState3 = useState(false),\n      loading = _useState3[0],\n      setLoading = _useState3[1];\n\n  var _useState4 = useState(false),\n      uncount = _useState4[0],\n      setUncount = _useState4[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var request, result;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(fetch(\"http://localhost:3001/getphoto/\".concat(id)));\n\n            case 3:\n              request = _context.sent;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(request.blob());\n\n            case 6:\n              result = _context.sent;\n\n              if (!uncount) {\n                setBlob(result);\n                setSrc(URL.createObjectURL(result));\n                setLoading(false);\n              }\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n\n    return function () {\n      setUncount(true);\n      URL.revokeObjectURL(blob);\n    };\n  }, []);\n  return __jsx(\"div\", {\n    className: \"jsx-2415516394\" + \" \" + 'test has'\n  }, loading ? __jsx(Loading, {\n    color: \"#1f2738\"\n  }) : __jsx(\"img\", {\n    src: src,\n    alt: \"\\u7167\\u7247\",\n    className: \"jsx-2415516394\"\n  }), __jsx(_JSXStyle, {\n    id: \"2415516394\"\n  }, [\"div.jsx-2415516394{min-height:100%;min-width:100%;}\", \"img.jsx-2415516394{width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-animation:go-jsx-2415516394 .5s;animation:go-jsx-2415516394 .5s;vertical-align:bottom;}\", \"@-webkit-keyframes go-jsx-2415516394{0%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}100%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}\", \"@keyframes go-jsx-2415516394{0%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}100%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}\"]));\n}\n\nexport default Photo;","map":null,"metadata":{},"sourceType":"module"}