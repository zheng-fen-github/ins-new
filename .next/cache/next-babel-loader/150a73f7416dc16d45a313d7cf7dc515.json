{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useContext } from 'react';\nimport Post from './postcontent';\nimport Search from './search';\nimport Content from './postlist/postindex';\nimport { Context } from '../../editusermessage/context/ins-context';\nimport UseGetData from '../../public/useDateGet';\nimport { connect } from 'react-redux';\nimport { GET } from './redux/action';\nimport Loading from '../../public/loading.js';\n\nfunction Index(props) {\n  console.log(props.message);\n  const url = 'http://49.234.96.80:3001/post';\n  const [state, fetching, error] = UseGetData(undefined, url);\n  useEffect(() => {\n    if (Array.isArray(state)) props.action(GET(state));\n  });\n\n  const scrollEv = e => {\n    //滚动按钮显示事件\n    let gotop = document.querySelector('.gotop');\n\n    if (e.target.scrollTop > window.innerHeight / 2) {\n      gotop.hidden = false;\n    } else {\n      gotop.hidden = true;\n    }\n  };\n\n  const scrollTOP = e => {\n    // 滚动到顶部事件\n    e.target.closest('.main').scrollTop = 0;\n    e.target.closest('.gotop').hidden = true;\n  };\n\n  return __jsx(\"div\", {\n    onScroll: scrollEv,\n    className: \"jsx-3591204356\" + \" \" + 'main testm'\n  }, __jsx(Context.Provider, {\n    value: props.data\n  }, error ? __jsx(\"div\", {\n    className: \"jsx-3591204356\"\n  }, \"something is wrong\") : props.data[0] ? __jsx(React.Fragment, null, __jsx(Post, {\n    data: props.message\n  }), __jsx(Search, null), __jsx(Content, {\n    message: props.message\n  }), __jsx(\"div\", {\n    hidden: true,\n    onClick: scrollTOP,\n    className: \"jsx-3591204356\" + \" \" + \"gotop\"\n  }, __jsx(\"i\", {\n    className: \"jsx-3591204356\" + \" \" + \"iconfont icon-rising\"\n  }))) : __jsx(Loading, {\n    color: \"#1f2738\"\n  })), __jsx(_JSXStyle, {\n    id: \"3591204356\"\n  }, [\".main.jsx-3591204356{height:100%;width:60%;background:#1f2738;overflow:auto;position:relative;overflow-y:auto;}\", \".gotop.jsx-3591204356{position:fixed;top:49vh;right:22vw;-webkit-animation:bu-jsx-3591204356 .5s 1;animation:bu-jsx-3591204356 .5s 1;cursor:pointer;}\", \"@-webkit-keyframes bu-jsx-3591204356{0%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}100%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}\", \"@keyframes bu-jsx-3591204356{0%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}100%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}\", \".gotop.jsx-3591204356>i.jsx-3591204356{font-size:2rem;color:#1f2738;background:white;border-radius:0.5rem;box-shadow:0 0 2px rgba(0,0,0,0.3);}\", \".gotop.jsx-3591204356>i.jsx-3591204356:hover{background:#1f2738;color:white;}\", \"@media (max-width:1100px){.main.jsx-3591204356{width:100vw;position:absolute;padding:0 6vw;}.gotop.jsx-3591204356{right:8vw;}}\"]));\n}\n\nconst state = store => ({\n  data: store\n});\n\nconst dispatch = dispatch => ({\n  action: dispatch\n});\n\nexport default connect(state, dispatch)(Index);","map":null,"metadata":{},"sourceType":"module"}