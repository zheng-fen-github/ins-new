{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport SelectList from '../component/editusermessage/select/selectlist';\nimport Show from '../component/editusermessage/show/show.js';\nimport Router from 'next/router';\nimport Home from '../component/home/addcontent/addPhoto/closebu';\n\nfunction Edit() {\n  var _useState = useState([]),\n      cookie = _useState[0],\n      setCookie = _useState[1]; //用户信息存储\n\n\n  useEffect(function () {\n    (function _callee() {\n      var request, result;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(fetch('http://localhost:3001/login', {\n                credentials: \"include\"\n              }));\n\n            case 3:\n              request = _context.sent;\n\n              if (!(request.status === 404)) {\n                _context.next = 8;\n                break;\n              }\n\n              console.log('路由切换都登录');\n              Router.push('/');\n              return _context.abrupt(\"return\");\n\n            case 8:\n              _context.next = 10;\n              return _regeneratorRuntime.awrap(request.json());\n\n            case 10:\n              result = _context.sent;\n              setCookie(function () {\n                return [result];\n              });\n              _context.next = 17;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](0);\n\n              if (_context.t0) {\n                console.log(_context.t0);\n              }\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 14]], Promise);\n    })();\n  }, []);\n  return __jsx(\"div\", {\n    className: \"jsx-1594311597\" + \" \" + 'edit'\n  }, cookie.length > 0 ? __jsx(\"div\", {\n    className: \"jsx-1594311597\" + \" \" + \"edit-container\"\n  }, __jsx(SelectList, null), __jsx(Show, {\n    userData: cookie[0]\n  })) : __jsx(React.Fragment, null), __jsx(\"div\", {\n    className: \"jsx-1594311597\" + \" \" + \"router\"\n  }, __jsx(Home, null)), __jsx(_JSXStyle, {\n    id: \"110819053\"\n  }, [\"*{margin:0;padding:0;box-sizing:border-box;}\"]), __jsx(_JSXStyle, {\n    id: \"4122368201\"\n  }, [\".router.jsx-1594311597{width:30px;height:30px;position:fixed;top:2vh;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;corsur:pointer;}\", \".router.jsx-1594311597:hover{background:#2b4578;}\", \".edit.jsx-1594311597{height:100vh;width:100vw;overflow:auto;background:#fafafa;}\", \".edit-container.jsx-1594311597{min-height:80vh;width:960px;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border:2px solid #d3d3d3;}\", \"@media (max-width:960px){.edit-container.jsx-1594311597{width:100%;height:100vh;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.edit.jsx-1594311597{background:white;}}\"]));\n}\n\nexport default Edit;","map":null,"metadata":{},"sourceType":"module"}