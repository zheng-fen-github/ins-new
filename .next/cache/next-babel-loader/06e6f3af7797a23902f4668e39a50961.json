{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport LoadPhoto from './avatarLoadPhoto.js';\n\nfunction Showavatar(_ref) {\n  var data = _ref.data,\n      name = _ref.name;\n\n  var _useState = useState(data.message.photoId),\n      photoID = _useState[0],\n      setPhotoID = _useState[1];\n\n  var _useState2 = useState(null),\n      src = _useState2[0],\n      setSrc = _useState2[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var request, blob, src;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(photoID === '')) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 2:\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(fetch(\"http://localhost:3001/upload/\".concat(photoID)));\n\n            case 4:\n              request = _context.sent;\n              _context.next = 7;\n              return _regeneratorRuntime.awrap(request.blob());\n\n            case 7:\n              blob = _context.sent;\n              src = URL.createObjectURL(blob);\n              setSrc(src);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n\n    return function () {\n      URL.revokeObjectURL(src);\n    };\n  }, []);\n\n  var deletePhoto = function deletePhoto() {\n    setPhotoID(true);\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-4019688225\" + \" \" + \"avatar\"\n  }, __jsx(\"div\", {\n    className: \"jsx-4019688225\" + \" \" + \"photo\"\n  }, !photoID && __jsx(\"img\", {\n    src: \"/user.jpg\",\n    alt: \"default\",\n    className: \"jsx-4019688225\"\n  }), src && __jsx(\"img\", {\n    src: src,\n    alt: \"cat\",\n    className: \"jsx-4019688225\"\n  })), __jsx(\"div\", {\n    className: \"jsx-4019688225\" + \" \" + \"avatarmessage\"\n  }, __jsx(\"div\", {\n    className: \"jsx-4019688225\" + \" \" + \"username\"\n  }, __jsx(\"h3\", {\n    className: \"jsx-4019688225\"\n  }, name ? name : false)), __jsx(LoadPhoto, {\n    de: deletePhoto,\n    srcEv: setSrc,\n    data: data\n  })), __jsx(_JSXStyle, {\n    id: \"4019688225\"\n  }, [\".avatar.jsx-4019688225{width:100%;height:10%;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:2vh;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \".photo.jsx-4019688225{width:25%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;}\", \".photo.jsx-4019688225 img.jsx-4019688225{height:6vh;width:6vh;border-radius:50%;border:solid 1px #d3d3d3;}\", \".avatarmessage.jsx-4019688225{padding-left:2vh;width:75%;height:80%;}\"]));\n}\n\nexport default Showavatar;","map":null,"metadata":{},"sourceType":"module"}